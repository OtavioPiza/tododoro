(this.webpackJsonptododoro=this.webpackJsonptododoro||[]).push([[0],{162:function(e,t,n){},163:function(e,t,n){},185:function(e,t,n){},248:function(e,t,n){},265:function(e,t,n){},266:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),i=n(51),s=n.n(i),o=n(166),u=n(21),l=n(341),d=n(325),j=n(326),b=n(186),h=n(347),O=n(342),p=n(189),x=n(20),f=n.n(x),v=n(4),m=n(23),g=n(6),k=n(66),w=n.n(k),y="/api/auth",C="/api/task",S=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r,a,c){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("".concat(y,"/register"),{email:t,firstName:n,lastName:r,username:a,password:c});case 2:return i=e.sent,e.abrupt("return",{status:i.status,data:i.data});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("".concat(y,"/check"),null,{headers:{Authorization:t}});case 2:return n=e.sent,e.abrupt("return",{status:n.status,data:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("".concat(y,"/verify"),{code:n},{headers:{Authorization:t}});case 2:return r=e.sent,e.abrupt("return",{status:r.status,data:r.data});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("".concat(y,"/login"),{username:t,password:n});case 2:return r=e.sent,e.abrupt("return",{status:r.status,data:r.data});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(C),{headers:{Authorization:t}});case 2:return n=e.sent,e.abrupt("return",{status:n.status,data:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r){var a,c,i,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>3&&void 0!==s[3]?s[3]:void 0,c=s.length>4&&void 0!==s[4]?s[4]:void 0,e.next=4,w.a.post("".concat(C),{title:n,description:r,priority:c,due:a},{headers:{Authorization:t}});case 4:return i=e.sent,e.abrupt("return",{status:i.status,data:i.data});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("".concat(C),{headers:{Authorization:t},data:{id:n}});case 2:return r=e.sent,e.abrupt("return",{status:r.status,data:r.data});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r,a){var c,i,s,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.length>4&&void 0!==o[4]?o[4]:void 0,i=o.length>5&&void 0!==o[5]?o[5]:void 0,e.next=4,w.a.put("".concat(C),{title:r,description:a,priority:i,due:c,id:n},{headers:{Authorization:t}});case 4:return s=e.sent,e.abrupt("return",{status:s.status,data:s.data});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),W=n(1);try{r=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{token:null,verified:null,username:null}}catch(Ee){r={token:null,verified:null,username:null}}var N=Object(a.createContext)({register:function(){},verify:function(){},login:function(){},logout:function(){},check:function(){},token:function(){return!1},verified:function(){return!1},username:function(){return!1}}),P=function(e){var t=e.children,n=Object(a.useState)(r),c=Object(g.a)(n,2),i=c[0],s=c[1];Object(a.useEffect)((function(){localStorage.setItem("auth",JSON.stringify(i))}),[i]);var o=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r,a,c,o){var u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c===o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S(t,n,r,a,c);case 4:201===(u=e.sent).status&&s(Object(v.a)(Object(v.a)({},i),{},{token:u.data.token,verified:!1,username:a}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,i){return e.apply(this,arguments)}}(),u=function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.token){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,I(i.token,t);case 4:200===e.sent.status&&s(Object(v.a)(Object(v.a)({},i),{},{verified:!0}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(m.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}throw{response:{status:401}};case 2:return e.next=4,E(t,n);case 4:200===(r=e.sent).status&&s(Object(v.a)(Object(v.a)({},i),{},{token:r.data.token,verified:r.data.verified,username:t}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(W.jsx)(N.Provider,{value:{register:o,verify:u,login:l,logout:function(){s({token:null,verified:null,username:null})},check:function(){i.token&&T(i.token).then((function(){})).catch((function(){s({token:null,verified:null,username:null})}))},token:i.token,verified:i.verified,username:i.username},children:t})},B=N,q=(n(248),function(){var e=Object(a.useContext)(B);return Object(W.jsx)(l.a,{bg:"light",expand:"md",id:"navbar",children:Object(W.jsxs)(d.a,{children:[Object(W.jsx)(l.a.Brand,{href:"/",id:"brand",children:"TodoDoro"}),Object(W.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(W.jsxs)(l.a.Collapse,{id:"basic-navbar-nav",children:[Object(W.jsx)(d.a,{children:Object(W.jsxs)(j.a,{children:[Object(W.jsx)(b.a,{md:"auto",children:Object(W.jsx)(h.a.Link,{href:"/",children:"Home"})}),Object(W.jsx)(b.a,{md:"auto",children:Object(W.jsx)(h.a.Link,{href:"/tasks",children:"Tasks"})}),e.token&&e.username&&Object(W.jsx)(b.a,{md:"auto",children:Object(W.jsxs)(O.a,{title:"Account",children:[Object(W.jsxs)(O.a.Item,{children:["Hello, ",e.username]}),e.verified||Object(W.jsx)(O.a.Item,{children:"Verify"}),Object(W.jsx)(O.a.Item,{children:"Settings"})]})})]})}),e.token?"":Object(W.jsx)(h.a.Link,{href:"/register",children:"Register"}),Object(W.jsx)(p.a,{id:"button",variant:"outline-danger",href:e.token?"":"/login",onClick:e.token?e.logout:function(){},children:e.token?"Logout":"Login"})]})]})})}),A=n(354),R=n(343),z=(n(162),n(357)),F=n(345),U=n(190),J={error:"",info:"",warn:""},Y=Object(a.createContext)({error:"",info:"",warn:"",setError:function(){},setInfo:function(){},setWarn:function(){}}),M=function(e){var t=e.children,n=Object(a.useState)(J),r=Object(g.a)(n,2),c=r[0],i=r[1];return Object(W.jsx)(Y.Provider,{value:{error:c.error,info:c.info,warn:c.warn,setError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;i(Object(v.a)(Object(v.a)({},c),{},{error:e})),setTimeout((function(){i(Object(v.a)(Object(v.a)({},c),{},{error:""}))}),t)},setInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;i(Object(v.a)(Object(v.a)({},c),{},{info:e})),setTimeout((function(){i(Object(v.a)(Object(v.a)({},c),{},{info:""}))}),t)},setWarn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;i(Object(v.a)(Object(v.a)({},c),{},{warn:e})),setTimeout((function(){i(Object(v.a)(Object(v.a)({},c),{},{warn:""}))}),t)}},children:t})},V=Y,Z=function(){var e=Object(a.useContext)(B),t=Object(a.useContext)(V),n=Object(U.useStateIfMounted)(!1),r=Object(g.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(null),o=Object(g.a)(s,2),l=o[0],h=o[1],O=Object(a.useState)(null),x=Object(g.a)(O,2),v=x[0],k=x[1],w=function(){var n=Object(m.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),!c){n.next=3;break}return n.abrupt("return");case 3:return i(!0),n.prev=4,n.next=7,e.login(l,v);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(4),401===n.t0.response.status?t.setError("Invalid username or password"):t.setError("Something went wrong when connecting to our servers. We have been notified and are currently working on it. Hang thight!");case 12:i(!1);case 13:case"end":return n.stop()}}),n,null,[[4,9]])})));return function(e){return n.apply(this,arguments)}}();return e.token&&!e.verified?Object(W.jsx)(u.a,{to:"/verify"}):e.token&&e.verified?Object(W.jsx)(u.a,{to:"/tasks"}):Object(W.jsxs)(j.a,{children:[Object(W.jsx)(b.a,{}),Object(W.jsxs)(b.a,{xs:"auto",children:[Object(W.jsx)(A.a,{id:"card",children:Object(W.jsx)(d.a,{id:"container",children:Object(W.jsxs)(R.a,{children:[Object(W.jsx)("h3",{children:"Welcome back!"}),Object(W.jsx)(R.a.Group,{controlId:"username",id:"in",children:Object(W.jsx)(R.a.Control,{placeholder:"Enter username",onChange:function(e){return h(e.target.value)},required:!0})}),Object(W.jsx)(R.a.Group,{className:"mb-3",controlId:"password",id:"in",children:Object(W.jsx)(R.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return k(e.target.value)},required:!0})}),Object(W.jsxs)("div",{id:"buttonHolder",children:[Object(W.jsx)(p.a,{id:"button",variant:"danger",type:"submit",onClick:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Login"}),c&&Object(W.jsx)(z.a,{color:"inherit"})]})]})})}),Object(W.jsx)("div",{id:"alertDiv",children:t.error&&Object(W.jsx)(F.a,{id:"alert",open:t.error&&!0,onClose:function(){return t.setError("")},severity:"error",sx:{borderRadius:"1rem",marginTop:"15px",maxWidth:"100%"},children:t.error})})]}),Object(W.jsx)(b.a,{})]})},K=function(){var e=Object(a.useContext)(B),t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),s=Object(g.a)(i,2),o=s[0],l=s[1],h=Object(a.useState)(null),O=Object(g.a)(h,2),x=O[0],v=O[1],k=Object(a.useState)(null),w=Object(g.a)(k,2),y=w[0],C=w[1],S=Object(a.useState)(null),T=Object(g.a)(S,2),I=T[0],E=T[1],D=Object(a.useState)(null),G=Object(g.a)(D,2),H=G[0],L=G[1],N=Object(a.useState)(null),P=Object(g.a)(N,2),q=P[0],U=P[1],J=Object(a.useState)(null),Y=Object(g.a)(J,2),M=Y[0],V=Y[1],Z=function(){var t=Object(m.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!r){t.next=3;break}return t.abrupt("return");case 3:if(q===M){t.next=7;break}return l("Passwords don't match"),setTimeout((function(){l("")}),5e3),t.abrupt("return");case 7:if(!(q.length<8)){t.next=11;break}return l("Password should be at least 8 characters long"),setTimeout((function(){l("")}),5e3),t.abrupt("return");case 11:if(String(H).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)){t.next=15;break}return l("Invalid email"),setTimeout((function(){l("")}),5e3),t.abrupt("return");case 15:return c(!0),t.prev=16,t.next=19,e.register(H,y,I,x,q,M);case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(16),400===t.t0.response.status?t.t0.response.data.includes("email: Error")&&t.t0.response.data.includes("username: Error")?l("Both the username and email have to be unique"):t.t0.response.data.includes("email: Error")?l("This email is already taken"):t.t0.response.data.includes("username: Error")?l("This username is already taken"):l("Invalid email"):l("Something went wrong when connecting to our servers. We have been notified and are currently working on it. Hang thight!"),setTimeout((function(){l("")}),5e3);case 25:c(!1);case 26:case"end":return t.stop()}}),t,null,[[16,21]])})));return function(e){return t.apply(this,arguments)}}();return e.token&&!e.verified?Object(W.jsx)(u.a,{to:"/verify"}):e.token&&e.verified?Object(W.jsx)(u.a,{to:"/tasks"}):Object(W.jsxs)(j.a,{children:[Object(W.jsx)(b.a,{}),Object(W.jsxs)(b.a,{xs:"auto",children:[Object(W.jsx)(A.a,{id:"card",children:Object(W.jsx)(d.a,{id:"container",children:Object(W.jsxs)(R.a,{children:[Object(W.jsx)("h3",{children:"Welcome to TodoDoro!"}),Object(W.jsx)("p",{children:"We can't wait to have you with us! Fill out with your information and we'll be done in no time."}),Object(W.jsxs)(R.a.Group,{controlId:"email",id:"in",children:[Object(W.jsx)(R.a.Control,{placeholder:"Email",onChange:function(e){return L(e.target.value)},type:"email",required:!0}),Object(W.jsx)(R.a.Text,{children:"Please enter a valid email. We will send you a verification code. We will never share your information."})]}),Object(W.jsx)(R.a.Group,{controlId:"firstName",id:"in",children:Object(W.jsx)(R.a.Control,{placeholder:"First name",onChange:function(e){return C(e.target.value)},required:!0})}),Object(W.jsx)(R.a.Group,{controlId:"lastName",id:"in",children:Object(W.jsx)(R.a.Control,{placeholder:"Last name",onChange:function(e){return E(e.target.value)},required:!0})}),Object(W.jsx)(R.a.Group,{controlId:"username",id:"in",children:Object(W.jsx)(R.a.Control,{placeholder:"Username",onChange:function(e){return v(e.target.value)},required:!0})}),Object(W.jsx)(R.a.Group,{className:"mb-3",controlId:"password",id:"in",children:Object(W.jsx)(R.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return U(e.target.value)},required:!0})}),Object(W.jsx)(R.a.Group,{className:"mb-3",controlId:"passwordConfirm",id:"in",children:Object(W.jsx)(R.a.Control,{type:"password",placeholder:"Retype password",onChange:function(e){return V(e.target.value)},required:!0})}),Object(W.jsxs)("div",{id:"buttonHolder",children:[Object(W.jsx)(p.a,{id:"button",variant:"danger",type:"submit",onClick:function(e){return Z(e)},children:"Register"}),r&&Object(W.jsx)(z.a,{color:"inherit"})]})]})})}),Object(W.jsx)("div",{id:"alertDiv",children:o&&Object(W.jsx)(F.a,{id:"alert",open:o&&!0,onClose:function(){return l("")},severity:"error",sx:{borderRadius:"1rem",marginTop:"5px",maxWidth:"100%"},children:o})})]}),Object(W.jsx)(b.a,{})]})},X=function(){var e=Object(a.useContext)(B),t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),s=Object(g.a)(i,2),o=s[0],l=s[1],h=Object(a.useState)(""),O=Object(g.a)(h,2),x=O[0],v=O[1],k=function(){var t=Object(m.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),8===x.length){t.next=4;break}return l("Invalid code!"),t.abrupt("return");case 4:return c(!0),t.prev=5,t.next=8,e.verify(x);case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),403===t.t0.response.status&&(t.t0.response.data.includes("code expired")?l("Code expired"):t.t0.response.data.includes("invalid code")?l("Invalid code"):l("Something went wrong when connecting to our servers. We have been notified and are currently working on it. Hang thight!")),setTimeout((function(){l("")}),5e3);case 14:c(!1);case 15:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e){return t.apply(this,arguments)}}();return e.token&&e.verified?Object(W.jsx)(u.a,{to:"/tasks"}):Object(W.jsxs)(j.a,{children:[Object(W.jsx)(b.a,{}),Object(W.jsxs)(b.a,{xs:"auto",children:[Object(W.jsx)(A.a,{id:"card",children:Object(W.jsx)(d.a,{id:"container",children:Object(W.jsxs)(R.a,{children:[Object(W.jsx)("h3",{children:"One last step!"}),Object(W.jsx)("p",{children:"Enter the code sent to your email to verify your account and get started."}),Object(W.jsx)(R.a.Group,{className:"mb-3",controlId:"password",id:"in",children:Object(W.jsx)(R.a.Control,{placeholder:"Code",onChange:function(e){return v(e.target.value)},required:!0})}),Object(W.jsxs)("div",{id:"buttonHolder",children:[Object(W.jsx)(p.a,{id:"button",variant:"danger",type:"submit",onClick:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Verify"}),r&&Object(W.jsx)(z.a,{color:"inherit"})]})]})})}),Object(W.jsx)("div",{id:"alertDiv",children:o&&Object(W.jsx)(F.a,{id:"alert",open:o&&!0,onClose:function(){return l("")},severity:"error",sx:{borderRadius:"1rem",marginTop:"5px",maxWidth:"100%"},children:o})})]}),Object(W.jsx)(b.a,{})]})},$=n(83),Q=(n(163),n(364)),_=n(348),ee=n(365),te=n(363),ne=n(350),re=n(338),ae=(n(185),function(e){var t=e.startHandler,n=e.deleteHandler,r=e.editHandler,a=e.id,c=e.title,i=e.description,s=e.progress,o=e.due,u=e.priority,l=new Date(o),j=4==u?"URGENT":3===u?"HIGH":2===u?"NORMAL":1===u?"LOW":null;return Object(W.jsx)(A.a,{id:"task",children:Object(W.jsxs)(d.a,{id:"container",children:[Object(W.jsxs)("div",{id:"header",children:[Object(W.jsx)(p.a,{id:"titleButton",variant:"danger",onClick:function(){return t(a)},children:Object(W.jsxs)("div",{id:"titleContainer",children:[Object(W.jsx)(z.a,{color:"inherit",variant:"determinate",value:s,id:"bar",sx:{padding:".2rem"}}),Object(W.jsx)("h5",{children:c})]})}),Object(W.jsx)("button",{id:"delButton",onClick:function(){return n(a)},children:"X"}),Object(W.jsx)("button",{id:"editButton",onClick:function(){return r(a)},children:"E"})]}),i&&Object(W.jsx)(re.a,{children:i}),o||u?Object(W.jsx)("p",{children:Object(W.jsxs)("small",{sytle:{},children:[Object(W.jsx)("b",{children:j||""})," ",o?"Due: ".concat(l.toLocaleDateString()," at ").concat(l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):""]})}):Object(W.jsx)(W.Fragment,{})]})})}),ce=n(196),ie=n.n(ce),se=n.p+"static/media/notification.d9cddb63.mp3",oe=n(19),ue=[],le="c",de=!1,je=Object(a.createContext)({tasks:[],sort:"c",loadingTasks:!1,setSort:function(){},setTasks:function(){},setLoadingTasks:function(){}}),be=function(e){var t=e.children,n=Object(a.useContext)(B),r=Object(a.useContext)(V),c=Object(a.useState)(ue),i=Object(g.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(ue),l=Object(g.a)(u,2),d=l[0],j=l[1],b=Object(a.useState)(le),h=Object(g.a)(b,2),O=h[0],p=h[1],x=Object(a.useState)(de),f=Object(g.a)(x,2),v=f[0],m=f[1];return Object(a.useEffect)((function(){n.token&&(m(!0),D(n.token).then((function(e){o(e.data),m(!1)})).catch((function(e){console.log(e),r.setError("Something went wrong while fetching your tasks"),m(!1)})))}),[n.token]),Object(a.useEffect)((function(){m(!0);var e=Object(oe.a)(s);j(e.sort((function(e,t){return"p"==O?t.priority-e.priority:"d"==O?e.due?t.due?new Date(e.due)-new Date(t.due):-1:1:new Date(e.created)-new Date(t.created)}))),m(!1)}),[s,O]),Object(W.jsx)(je.Provider,{value:{tasks:d,sort:O,loadingTasks:v,setSort:p,setTasks:o,setLoadingTasks:m},children:t})},he=je,Oe=n(351),pe=n(352),xe=n(353),fe=n(344),ve=n(349),me=n(339),ge=n(198),ke=n(340),we=function(e){var t=e.tasks,n=e.setTasks,r=Object(a.useContext)(B),c=Object(a.useContext)(V),i=Object(a.useState)(""),s=Object(g.a)(i,2),o=s[0],u=s[1],l=Object(a.useState)(""),j=Object(g.a)(l,2),b=j[0],h=j[1],O=Object(a.useState)(null),x=Object(g.a)(O,2),k=x[0],w=x[1],y=Object(a.useState)(""),C=Object(g.a)(y,2),S=C[0],T=C[1],I=Object(a.useState)(!1),E=Object(g.a)(I,2),D=E[0],H=E[1],L=function(){var e=Object(m.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=3;break}return c.setError("Please enter a title"),e.abrupt("return");case 3:return H(!0),e.prev=4,e.next=7,G(r.token,o,b||null,k?new Date(k):null,S||null);case 7:a=e.sent,console.log(a),n(t.concat({id:a.data.id,title:a.data.title,description:a.data.description,due:a.data.due,priority:-1==a.data.priority?null:a.data.priority})),u(""),h(""),w(null),T(null),c.setInfo("Task created"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),c.setError("Something went wrong while creating a new task");case 20:H(!1);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)(A.a,{id:"create",children:Object(W.jsx)(d.a,{id:"container",children:Object(W.jsxs)(R.a,{children:[Object(W.jsx)("h4",{children:"Create a new task!"}),Object(W.jsx)(R.a.Group,{controlId:"title",id:"in",children:Object(W.jsx)(Oe.a,{style:{width:"100%"},id:"outlined-password-input",label:"Title",autoComplete:"current-password",placeholder:"Enter a title",onChange:function(e){return u(e.target.value)},value:o,required:!0})}),Object(W.jsx)(R.a.Group,{controlId:"description",id:"in",children:Object(W.jsx)(Oe.a,{style:{width:"100%"},id:"outlined-password-input",placeholder:"Enter a description (optional)",onChange:function(e){return h(e.target.value)},label:"Description",value:b,multiline:!0})}),Object(W.jsx)(R.a.Group,{controlId:"description",id:"in",children:Object(W.jsxs)(pe.a,{fullWidth:!0,children:[Object(W.jsx)(xe.a,{children:"Priority"}),Object(W.jsxs)(fe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:S,label:"Priority",onChange:function(e){return T(e.target.value)},children:[Object(W.jsx)(ve.a,{value:0,children:"None"}),Object(W.jsx)(ve.a,{value:1,children:"Low"}),Object(W.jsx)(ve.a,{value:2,children:"Normal"}),Object(W.jsx)(ve.a,{value:3,children:"High"}),Object(W.jsx)(ve.a,{value:4,children:"Urgent"})]})]})}),Object(W.jsx)(R.a.Group,{controlId:"date",id:"in",style:{width:"100%"},children:Object(W.jsx)(ge.a,{dateAdapter:me.a,children:Object(W.jsx)(ke.a,{id:"indate",renderInput:function(e){return Object(W.jsx)(Oe.a,Object(v.a)(Object(v.a)({},e),{},{style:{width:"100%"}}))},label:"Due",value:k,onChange:function(e){w(e)}})})}),Object(W.jsxs)("div",{id:"buttonHolder",children:[Object(W.jsx)(p.a,{id:"button",variant:"danger",onClick:L,children:"Create"}),D&&Object(W.jsx)(z.a,{color:"inherit"})]})]})})})},ye=function(e){var t=e.task,n=e.tasks,r=e.setTasks,c=e.setEdit,i=Object(a.useContext)(B),s=Object(a.useContext)(V),o=Object(a.useState)(t.title),u=Object(g.a)(o,2),l=u[0],j=u[1],b=Object(a.useState)(t.description),h=Object(g.a)(b,2),O=h[0],x=h[1],k=Object(a.useState)(t.due),w=Object(g.a)(k,2),y=w[0],C=w[1],S=Object(a.useState)(t.priority),T=Object(g.a)(S,2),I=T[0],E=T[1],D=Object(a.useState)(!1),G=Object(g.a)(D,2),H=G[0],N=G[1],P=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=3;break}return s.setError("Please enter a title"),e.abrupt("return");case 3:return N(!0),e.prev=4,e.next=7,L(i.token,t.id,l,O||null,y?new Date(y):null,I||null);case 7:r(n.map((function(e){return e.id===t.id?Object(v.a)(Object(v.a)({},t),{},{title:l,description:O,due:y,priority:-1==I?null:I}):e}))),c(!1),s.setInfo("Task updated"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0),s.setError("Failed to update task");case 16:N(!1);case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();return Object(W.jsx)(A.a,{id:"create",style:{borderRadius:"1rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"min(400px, 80%)",p:4,padding:"1.5rem 0"},children:Object(W.jsx)(d.a,{id:"container",children:Object(W.jsxs)(R.a,{children:[Object(W.jsx)("h4",{children:"Edit Your Task"}),Object(W.jsx)(R.a.Group,{controlId:"title",id:"in",children:Object(W.jsx)(Oe.a,{style:{width:"100%"},id:"outlined-password-input",label:"Title",autoComplete:"current-password",placeholder:"Enter a title",onChange:function(e){return j(e.target.value)},value:l,required:!0})}),Object(W.jsx)(R.a.Group,{controlId:"description",id:"in",children:Object(W.jsx)(Oe.a,{style:{width:"100%"},id:"outlined-password-input",placeholder:"Enter a description (optional)",onChange:function(e){return x(e.target.value)},label:"Description",value:O,multiline:!0})}),Object(W.jsx)(R.a.Group,{controlId:"description",id:"in",children:Object(W.jsxs)(pe.a,{fullWidth:!0,children:[Object(W.jsx)(xe.a,{children:"Priority"}),Object(W.jsxs)(fe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:I,label:"Priority",onChange:function(e){return E(e.target.value)},children:[Object(W.jsx)(ve.a,{value:0,children:"None"}),Object(W.jsx)(ve.a,{value:1,children:"Low"}),Object(W.jsx)(ve.a,{value:2,children:"Normal"}),Object(W.jsx)(ve.a,{value:3,children:"High"}),Object(W.jsx)(ve.a,{value:4,children:"Urgent"})]})]})}),Object(W.jsx)(R.a.Group,{controlId:"date",id:"in",style:{width:"100%"},children:Object(W.jsx)(ge.a,{dateAdapter:me.a,children:Object(W.jsx)(ke.a,{id:"indate",renderInput:function(e){return Object(W.jsx)(Oe.a,Object(v.a)(Object(v.a)({},e),{},{style:{width:"100%"}}))},label:"Due",value:y,onChange:function(e){C(e)}})})}),Object(W.jsxs)("div",{id:"buttonHolder",children:[Object(W.jsx)(p.a,{id:"button",variant:"danger",onClick:P,children:"Update"}),Object(W.jsx)(p.a,{id:"button",variant:"danger",onClick:function(){return c(null)},children:"Cancel"}),H&&Object(W.jsx)(z.a,{color:"inherit"})]})]})})})},Ce=function(e){var t=e.setSort,n=e.sort;return Object(W.jsx)(A.a,{id:"task",children:Object(W.jsx)(d.a,{id:"container",children:Object(W.jsx)(R.a.Group,{controlId:"description",id:"in",children:Object(W.jsxs)(pe.a,{fullWidth:!0,children:[Object(W.jsx)(xe.a,{children:"Sort By"}),Object(W.jsxs)(fe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Priority",onChange:function(e){return t(e.target.value)},value:n,children:[Object(W.jsx)(ve.a,{value:"c",children:"Creation"}),Object(W.jsx)(ve.a,{value:"p",children:"Priority"}),Object(W.jsx)(ve.a,{value:"d",children:"Due Date"})]})]})})})})},Se=function(){var e=Object(a.useContext)(B),t=Object(a.useContext)(V),n=Object(a.useContext)(he),r=Object(a.useState)(null),c=Object(g.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(null),u=Object(g.a)(o,2),l=u[0],d=u[1],h=Object(a.useState)(0),O=Object(g.a)(h,2),x=O[0],v=O[1],k=Object(a.useState)(null),w=Object(g.a)(k,2),y=w[0],C=w[1],S=Object(a.useState)(0),T=Object(g.a)(S,2),I=T[0],E=T[1],D=Object(a.useState)(null),G=Object(g.a)(D,2),L=G[0],N=G[1],P=Object(a.useState)(1),q=Object(g.a)(P,2),A=q[0],R=q[1],z=Object(a.useState)(!1),U=Object(g.a)(z,2),J=U[0],Y=U[1];l&&!L&&setTimeout((function(){100!==x?v(x+1):Z(l)}),15e3),y&&setTimeout((function(){100!==I?E(I+1):K(y)}),A%4?3e3:9e3);var M=function(e){l?l===e?Z(l):(N(l),d(e)):(v(0),d(e))},Z=function(){v(100),Y(!0),d(null),y&&K(y),E(0),C(l)},K=function(e){Y(!0),R(A%4?A+1:1),E(100),C(null),N(e)},X=function(){var r=Object(m.a)(f.a.mark((function r(a){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.setLoadingTasks(!0),r.prev=1,r.next=4,H(e.token,a);case 4:n.setTasks(n.tasks.filter((function(e){return e.id!==a}))),t.setInfo("Task removed"),n.setLoadingTasks(!1),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),t.setError("Something went wrong while deleting the task"),n.setLoadingTasks(!1);case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}(),re=function(){var e=Object(m.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.tasks.find((function(e){return e.id===t})),s(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(W.jsxs)(j.a,{id:"main",children:[n.loadingTasks?Object(W.jsx)(Q.a,{id:"lp",color:"inherit"}):Object(W.jsx)("span",{id:"lp"}),Object(W.jsx)(b.a,{}),Object(W.jsxs)(b.a,{xs:"auto",children:[n.tasks.length>=2&&Object(W.jsx)(Ce,{setSort:n.setSort,sort:n.sort}),n.tasks.map((function(e,t){return Object(W.jsx)(ae,{startHandler:M,deleteHandler:X,editHandler:re,id:e.id,title:e.title,description:e.description,progress:l&&e.id===l?x:100,due:e.due,priority:e.priority},t)})),Object(W.jsx)(we,{tasks:n.tasks,setTasks:n.setTasks}),Object(W.jsx)("div",{id:"alertDiv",children:t.error&&Object(W.jsx)(F.a,{id:"alert",open:!!t.error,severity:"error",sx:{borderRadius:"1rem",marginTop:"5px",maxWidth:"100%"},children:t.error})})]}),Object(W.jsx)(b.a,{}),Object(W.jsx)(_.a,{open:!!y,onClose:function(){return function(){return K(y)}},children:Object(W.jsxs)(ee.a,{sx:{borderRadius:"1rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"min(400px, 80%)",bgcolor:"background.paper",border:"none",boxShadow:24,p:4},children:[Object(W.jsx)(te.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Time to take a break!"}),Object(W.jsx)(te.a,{id:"modal-modal-description",sx:{mt:2},children:"You have been working hard; take some to chill and recharge. We will notify you when it's time to get back to work."}),Object(W.jsx)("br",{}),Object(W.jsx)("div",{id:"breakBar",children:Object(W.jsx)(Q.a,{variant:"determinate",color:"inherit",value:I})}),Object(W.jsx)("br",{}),Object(W.jsx)("div",{children:Object(W.jsx)(p.a,{variant:"danger",id:"genButton",onClick:function(){return K(y)},children:"Skip Break"})})]})}),Object(W.jsx)(_.a,{open:!!L,onClose:function(){return function(){return N(null)}},children:Object(W.jsxs)(ee.a,{sx:{borderRadius:"1rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"min(400px, 80%)",bgcolor:"background.paper",border:"none",boxShadow:24,p:4},children:[Object(W.jsx)(te.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Did you complete the task?"}),Object(W.jsx)(te.a,{id:"modal-modal-description",sx:{mt:2},children:"Did you complete the task you have been working on".concat(function(e){var t,r=Object($.a)(n.tasks);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a.id===e)return" (".concat(a.title,")")}}catch(c){r.e(c)}finally{r.f()}}(L),"?")}),Object(W.jsx)("br",{}),Object(W.jsx)(p.a,{style:{marginBottom:".5rem"},variant:"danger",id:"genButton",onClick:function(){X(L).then((function(){N(null)}))},children:"Yes! Go ahead and remove it."}),Object(W.jsx)(p.a,{variant:"danger",id:"genButton",onClick:function(){N(null)},children:"No! Keep it there."})]})}),Object(W.jsx)(_.a,{open:!!i,onClose:function(){return function(){return s(!1)}},children:Object(W.jsx)("div",{id:"edit",children:Object(W.jsx)(ye,{task:i,tasks:n.tasks,setTasks:n.setTasks,setEdit:s})})}),Object(W.jsx)(ne.a,{open:!!t.info,autoHideDuration:5e3,message:t.info}),Object(W.jsx)(ie.a,{preload:!0,playing:J,onEnd:function(){return Y(!1)},src:se})]})},Te=function(e){var t=e.children,n=Object(a.useContext)(B),r=Object(a.useContext)(V);return Object(a.useEffect)((function(){n.token||r.setError("You must be logged in to view this page.")}),[]),n.token?t:Object(W.jsx)(u.a,{to:"/login"})},Ie=function(){var e=Object(a.useContext)(B);return Object(a.useEffect)((function(){e.check()}),[e.token]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(q,{}),Object(W.jsx)(o.a,{children:Object(W.jsxs)(u.d,{children:[Object(W.jsx)(u.b,{path:"/login",element:Object(W.jsx)(Z,{})}),Object(W.jsx)(u.b,{path:"/register",element:Object(W.jsx)(K,{})}),Object(W.jsx)(u.b,{path:"/verify",element:Object(W.jsx)(Te,{children:Object(W.jsx)(X,{})})}),Object(W.jsx)(u.b,{path:"/tasks",element:Object(W.jsx)(Te,{children:Object(W.jsx)(Se,{})})})]})})]})};n(264),n(265);s.a.render(Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsx)(P,{children:Object(W.jsx)(M,{children:Object(W.jsx)(be,{children:Object(W.jsx)(Ie,{})})})})}),document.getElementById("root"))}},[[266,1,2]]]);
//# sourceMappingURL=main.97529e70.chunk.js.map