(this.webpackJsonptododoro=this.webpackJsonptododoro||[]).push([[0],{162:function(e,t,n){},163:function(e,t,n){},247:function(e,t,n){},256:function(e,t,n){},265:function(e,t,n){},266:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),i=n(51),o=n.n(i),s=n(166),u=n(21),l=n(341),d=n(325),j=n(326),b=n(185),h=n(347),O=n(342),p=n(188),x=n(20),f=n.n(x),v=n(4),m=n(23),g=n(6),k=n(66),w=n.n(k),y="/api/auth",C="/api/task",S=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r,a,c){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("".concat(y,"/register"),{email:t,firstName:n,lastName:r,username:a,password:c});case 2:return i=e.sent,e.abrupt("return",{status:i.status,data:i.data});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("".concat(y,"/check"),null,{headers:{Authorization:t}});case 2:return n=e.sent,e.abrupt("return",{status:n.status,data:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("".concat(y,"/verify"),{code:n},{headers:{Authorization:t}});case 2:return r=e.sent,e.abrupt("return",{status:r.status,data:r.data});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("".concat(y,"/login"),{username:t,password:n});case 2:return r=e.sent,e.abrupt("return",{status:r.status,data:r.data});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(C),{headers:{Authorization:t}});case 2:return n=e.sent,e.abrupt("return",{status:n.status,data:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r){var a,c,i,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>3&&void 0!==o[3]?o[3]:void 0,c=o.length>4&&void 0!==o[4]?o[4]:void 0,e.next=4,w.a.post("".concat(C),{title:n,description:r,priority:c,due:a},{headers:{Authorization:t}});case 4:return i=e.sent,e.abrupt("return",{status:i.status,data:i.data});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("".concat(C),{headers:{Authorization:t},data:{id:n}});case 2:return r=e.sent,e.abrupt("return",{status:r.status,data:r.data});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r,a){var c,i,o,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>4&&void 0!==s[4]?s[4]:void 0,i=s.length>5&&void 0!==s[5]?s[5]:void 0,e.next=4,w.a.put("".concat(C),{title:r,description:a,priority:i,due:c,id:n},{headers:{Authorization:t}});case 4:return o=e.sent,e.abrupt("return",{status:o.status,data:o.data});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),N=n(1);try{r=localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):{token:null,verified:null,username:null}}catch(ge){r={token:null,verified:null,username:null}}var L=Object(a.createContext)({register:function(){},verify:function(){},login:function(){},logout:function(){},check:function(){},token:function(){return!1},verified:function(){return!1},username:function(){return!1}}),P=function(e){var t=e.children,n=Object(a.useState)(r),c=Object(g.a)(n,2),i=c[0],o=c[1];Object(a.useEffect)((function(){localStorage.setItem("auth",JSON.stringify(i))}),[i]);var s=function(){var e=Object(m.a)(f.a.mark((function e(t,n,r,a,c,s){var u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c===s){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S(t,n,r,a,c);case 4:201===(u=e.sent).status&&o(Object(v.a)(Object(v.a)({},i),{},{token:u.data.token,verified:!1,username:a}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,i){return e.apply(this,arguments)}}(),u=function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.token){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,E(i.token,t);case 4:200===e.sent.status&&o(Object(v.a)(Object(v.a)({},i),{},{verified:!0}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(m.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}throw{response:{status:401}};case 2:return e.next=4,T(t,n);case 4:200===(r=e.sent).status&&o(Object(v.a)(Object(v.a)({},i),{},{token:r.data.token,verified:r.data.verified,username:t}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(N.jsx)(L.Provider,{value:{register:s,verify:u,login:l,logout:function(){o({token:null,verified:null,username:null})},check:function(){i.token&&I(i.token).then((function(){})).catch((function(){o({token:null,verified:null,username:null})}))},token:i.token,verified:i.verified,username:i.username},children:t})},q=L,A=(n(247),function(){var e=Object(a.useContext)(q);return Object(N.jsx)(l.a,{bg:"light",expand:"md",id:"navbar",children:Object(N.jsxs)(d.a,{children:[Object(N.jsx)(l.a.Brand,{href:"/",id:"brand",children:"TodoDoro"}),Object(N.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(N.jsxs)(l.a.Collapse,{id:"basic-navbar-nav",children:[Object(N.jsx)(d.a,{children:Object(N.jsxs)(j.a,{children:[Object(N.jsx)(b.a,{md:"auto",children:Object(N.jsx)(h.a.Link,{href:"/",children:"Home"})}),Object(N.jsx)(b.a,{md:"auto",children:Object(N.jsx)(h.a.Link,{href:"/tasks",children:"Tasks"})}),e.token&&e.username&&Object(N.jsx)(b.a,{md:"auto",children:Object(N.jsxs)(O.a,{title:"Account",children:[Object(N.jsxs)(O.a.Item,{children:["Hello, ",e.username]}),e.verified||Object(N.jsx)(O.a.Item,{children:"Verify"}),Object(N.jsx)(O.a.Item,{children:"Settings"})]})})]})}),e.token?"":Object(N.jsx)(h.a.Link,{href:"/register",children:"Register"}),Object(N.jsx)(p.a,{id:"button",variant:"outline-danger",href:e.token?"":"/login",onClick:e.token?e.logout:function(){},children:e.token?"Logout":"Login"})]})]})})}),B=n(354),R=n(343),z=(n(162),n(357)),F=n(345),U=n(189),J={error:"",info:"",warn:""},Y=Object(a.createContext)({error:"",info:"",warn:"",setError:function(){},setInfo:function(){},setWarn:function(){}}),M=function(e){var t=e.children,n=Object(a.useState)(J),r=Object(g.a)(n,2),c=r[0],i=r[1];return Object(N.jsx)(Y.Provider,{value:{error:c.error,info:c.info,warn:c.warn,setError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;i(Object(v.a)(Object(v.a)({},c),{},{error:e})),setTimeout((function(){i(Object(v.a)(Object(v.a)({},c),{},{error:""}))}),t)},setInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;i(Object(v.a)(Object(v.a)({},c),{},{info:e})),setTimeout((function(){i(Object(v.a)(Object(v.a)({},c),{},{info:""}))}),t)},setWarn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;i(Object(v.a)(Object(v.a)({},c),{},{warn:e})),setTimeout((function(){i(Object(v.a)(Object(v.a)({},c),{},{warn:""}))}),t)}},children:t})},V=Y,Z=function(){var e=Object(a.useContext)(q),t=Object(a.useContext)(V),n=Object(U.useStateIfMounted)(!1),r=Object(g.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(null),s=Object(g.a)(o,2),l=s[0],h=s[1],O=Object(a.useState)(null),x=Object(g.a)(O,2),v=x[0],k=x[1],w=function(){var n=Object(m.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),!c){n.next=3;break}return n.abrupt("return");case 3:return i(!0),n.prev=4,n.next=7,e.login(l,v);case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(4),401===n.t0.response.status?t.setError("Invalid username or password"):t.setError("Something went wrong when connecting to our servers. We have been notified and are currently working on it. Hang thight!");case 12:i(!1);case 13:case"end":return n.stop()}}),n,null,[[4,9]])})));return function(e){return n.apply(this,arguments)}}();return e.token&&!e.verified?Object(N.jsx)(u.a,{to:"/verify"}):e.token&&e.verified?Object(N.jsx)(u.a,{to:"/tasks"}):Object(N.jsxs)(j.a,{children:[Object(N.jsx)(b.a,{}),Object(N.jsxs)(b.a,{xs:"auto",children:[Object(N.jsx)(B.a,{id:"card",children:Object(N.jsx)(d.a,{id:"container",children:Object(N.jsxs)(R.a,{children:[Object(N.jsx)("h3",{children:"Welcome back!"}),Object(N.jsx)(R.a.Group,{controlId:"username",id:"in",children:Object(N.jsx)(R.a.Control,{placeholder:"Enter username",onChange:function(e){return h(e.target.value)},required:!0})}),Object(N.jsx)(R.a.Group,{className:"mb-3",controlId:"password",id:"in",children:Object(N.jsx)(R.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return k(e.target.value)},required:!0})}),Object(N.jsxs)("div",{id:"buttonHolder",children:[Object(N.jsx)(p.a,{id:"button",variant:"danger",type:"submit",onClick:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Login"}),c&&Object(N.jsx)(z.a,{color:"inherit"})]})]})})}),Object(N.jsx)("div",{id:"alertDiv",children:t.error&&Object(N.jsx)(F.a,{id:"alert",open:t.error&&!0,onClose:function(){return t.setError("")},severity:"error",sx:{borderRadius:"1rem",marginTop:"15px",maxWidth:"100%"},children:t.error})})]}),Object(N.jsx)(b.a,{})]})},K=function(){var e=Object(a.useContext)(q),t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),o=Object(g.a)(i,2),s=o[0],l=o[1],h=Object(a.useState)(null),O=Object(g.a)(h,2),x=O[0],v=O[1],k=Object(a.useState)(null),w=Object(g.a)(k,2),y=w[0],C=w[1],S=Object(a.useState)(null),I=Object(g.a)(S,2),E=I[0],T=I[1],D=Object(a.useState)(null),H=Object(g.a)(D,2),G=H[0],W=H[1],L=Object(a.useState)(null),P=Object(g.a)(L,2),A=P[0],U=P[1],J=Object(a.useState)(null),Y=Object(g.a)(J,2),M=Y[0],V=Y[1],Z=function(){var t=Object(m.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!r){t.next=3;break}return t.abrupt("return");case 3:if(A===M){t.next=7;break}return l("Passwords don't match"),setTimeout((function(){l("")}),5e3),t.abrupt("return");case 7:if(!(A.length<8)){t.next=11;break}return l("Password should be at least 8 characters long"),setTimeout((function(){l("")}),5e3),t.abrupt("return");case 11:if(String(G).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)){t.next=15;break}return l("Invalid email"),setTimeout((function(){l("")}),5e3),t.abrupt("return");case 15:return c(!0),t.prev=16,t.next=19,e.register(G,y,E,x,A,M);case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(16),400===t.t0.response.status?t.t0.response.data.includes("email: Error")&&t.t0.response.data.includes("username: Error")?l("Both the username and email have to be unique"):t.t0.response.data.includes("email: Error")?l("This email is already taken"):t.t0.response.data.includes("username: Error")?l("This username is already taken"):l("Invalid email"):l("Something went wrong when connecting to our servers. We have been notified and are currently working on it. Hang thight!"),setTimeout((function(){l("")}),5e3);case 25:c(!1);case 26:case"end":return t.stop()}}),t,null,[[16,21]])})));return function(e){return t.apply(this,arguments)}}();return e.token&&!e.verified?Object(N.jsx)(u.a,{to:"/verify"}):e.token&&e.verified?Object(N.jsx)(u.a,{to:"/tasks"}):Object(N.jsxs)(j.a,{children:[Object(N.jsx)(b.a,{}),Object(N.jsxs)(b.a,{xs:"auto",children:[Object(N.jsx)(B.a,{id:"card",children:Object(N.jsx)(d.a,{id:"container",children:Object(N.jsxs)(R.a,{children:[Object(N.jsx)("h3",{children:"Welcome to TodoDoro!"}),Object(N.jsx)("p",{children:"We can't wait to have you with us! Fill out with your information and we'll be done in no time."}),Object(N.jsxs)(R.a.Group,{controlId:"email",id:"in",children:[Object(N.jsx)(R.a.Control,{placeholder:"Email",onChange:function(e){return W(e.target.value)},type:"email",required:!0}),Object(N.jsx)(R.a.Text,{children:"Please enter a valid email. We will send you a verification code. We will never share your information."})]}),Object(N.jsx)(R.a.Group,{controlId:"firstName",id:"in",children:Object(N.jsx)(R.a.Control,{placeholder:"First name",onChange:function(e){return C(e.target.value)},required:!0})}),Object(N.jsx)(R.a.Group,{controlId:"lastName",id:"in",children:Object(N.jsx)(R.a.Control,{placeholder:"Last name",onChange:function(e){return T(e.target.value)},required:!0})}),Object(N.jsx)(R.a.Group,{controlId:"username",id:"in",children:Object(N.jsx)(R.a.Control,{placeholder:"Username",onChange:function(e){return v(e.target.value)},required:!0})}),Object(N.jsx)(R.a.Group,{className:"mb-3",controlId:"password",id:"in",children:Object(N.jsx)(R.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return U(e.target.value)},required:!0})}),Object(N.jsx)(R.a.Group,{className:"mb-3",controlId:"passwordConfirm",id:"in",children:Object(N.jsx)(R.a.Control,{type:"password",placeholder:"Retype password",onChange:function(e){return V(e.target.value)},required:!0})}),Object(N.jsxs)("div",{id:"buttonHolder",children:[Object(N.jsx)(p.a,{id:"button",variant:"danger",type:"submit",onClick:function(e){return Z(e)},children:"Register"}),r&&Object(N.jsx)(z.a,{color:"inherit"})]})]})})}),Object(N.jsx)("div",{id:"alertDiv",children:s&&Object(N.jsx)(F.a,{id:"alert",open:s&&!0,onClose:function(){return l("")},severity:"error",sx:{borderRadius:"1rem",marginTop:"5px",maxWidth:"100%"},children:s})})]}),Object(N.jsx)(b.a,{})]})},X=function(){var e=Object(a.useContext)(q),t=Object(a.useState)(!1),n=Object(g.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(""),o=Object(g.a)(i,2),s=o[0],l=o[1],h=Object(a.useState)(""),O=Object(g.a)(h,2),x=O[0],v=O[1],k=function(){var t=Object(m.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),8===x.length){t.next=4;break}return l("Invalid code!"),t.abrupt("return");case 4:return c(!0),t.prev=5,t.next=8,e.verify(x);case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),403===t.t0.response.status&&(t.t0.response.data.includes("code expired")?l("Code expired"):t.t0.response.data.includes("invalid code")?l("Invalid code"):l("Something went wrong when connecting to our servers. We have been notified and are currently working on it. Hang thight!")),setTimeout((function(){l("")}),5e3);case 14:c(!1);case 15:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e){return t.apply(this,arguments)}}();return e.token&&e.verified?Object(N.jsx)(u.a,{to:"/tasks"}):Object(N.jsxs)(j.a,{children:[Object(N.jsx)(b.a,{}),Object(N.jsxs)(b.a,{xs:"auto",children:[Object(N.jsx)(B.a,{id:"card",children:Object(N.jsx)(d.a,{id:"container",children:Object(N.jsxs)(R.a,{children:[Object(N.jsx)("h3",{children:"One last step!"}),Object(N.jsx)("p",{children:"Enter the code sent to your email to verify your account and get started."}),Object(N.jsx)(R.a.Group,{className:"mb-3",controlId:"password",id:"in",children:Object(N.jsx)(R.a.Control,{placeholder:"Code",onChange:function(e){return v(e.target.value)},required:!0})}),Object(N.jsxs)("div",{id:"buttonHolder",children:[Object(N.jsx)(p.a,{id:"button",variant:"danger",type:"submit",onClick:function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:"Verify"}),r&&Object(N.jsx)(z.a,{color:"inherit"})]})]})})}),Object(N.jsx)("div",{id:"alertDiv",children:s&&Object(N.jsx)(F.a,{id:"alert",open:s&&!0,onClose:function(){return l("")},severity:"error",sx:{borderRadius:"1rem",marginTop:"5px",maxWidth:"100%"},children:s})})]}),Object(N.jsx)(b.a,{})]})},$=n(82),Q=(n(163),n(364)),_=n(348),ee=n(365),te=n(363),ne=n(350),re=n(338),ae=(n(256),function(e){var t=e.startHandler,n=e.deleteHandler,r=e.editHandler,a=e.id,c=e.title,i=e.description,o=e.progress,s=e.due,u=e.priority,l=new Date(s),j=3==u?"URGENT":2===u?"HIGH":1===u?"NORMAL":0===u?"LOW":null;return Object(N.jsx)(B.a,{id:"task",children:Object(N.jsxs)(d.a,{id:"container",children:[Object(N.jsxs)("div",{id:"header",children:[Object(N.jsx)(p.a,{id:"titleButton",variant:"danger",onClick:function(){return t(a)},children:Object(N.jsxs)("div",{id:"titleContainer",children:[Object(N.jsx)(z.a,{color:"inherit",variant:"determinate",value:o,id:"bar",sx:{padding:".2rem"}}),Object(N.jsx)("h5",{children:c})]})}),Object(N.jsx)("button",{id:"delButton",onClick:function(){return n(a)},children:"X"}),Object(N.jsx)("button",{id:"editButton",onClick:function(){return r(a)},children:"E"})]}),i&&Object(N.jsx)(re.a,{children:i}),s||u?Object(N.jsx)("p",{children:Object(N.jsxs)("small",{sytle:{},children:[Object(N.jsx)("b",{children:j||""})," ",s?"Due: ".concat(l.toLocaleDateString()," at ").concat(l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})):""]})}):Object(N.jsx)(N.Fragment,{})]})})}),ce=n(195),ie=n.n(ce),oe=n.p+"static/media/notification.d9cddb63.mp3",se=n(351),ue=n(352),le=n(353),de=n(344),je=n(349),be=n(339),he=n(197),Oe=n(340),pe=function(e){var t=e.tasks,n=e.setTasks,r=Object(a.useContext)(q),c=Object(a.useContext)(V),i=Object(a.useState)(""),o=Object(g.a)(i,2),s=o[0],u=o[1],l=Object(a.useState)(""),j=Object(g.a)(l,2),b=j[0],h=j[1],O=Object(a.useState)(null),x=Object(g.a)(O,2),k=x[0],w=x[1],y=Object(a.useState)(""),C=Object(g.a)(y,2),S=C[0],I=C[1],E=Object(a.useState)(!1),T=Object(g.a)(E,2),D=T[0],G=T[1],W=function(){var e=Object(m.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=3;break}return c.setError("Please enter a title"),e.abrupt("return");case 3:return G(!0),e.prev=4,e.next=7,H(r.token,s,b||null,k?new Date(k):null,S||null);case 7:a=e.sent,console.log(a),n(t.concat({id:a.data.id,title:a.data.title,description:a.data.description,due:a.data.due,priority:-1==a.data.priority?null:a.data.priority})),u(""),h(""),w(null),I(null),c.setInfo("Task created"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),c.setError("Something went wrong while creating a new task");case 20:G(!1);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}();return Object(N.jsx)(B.a,{id:"create",children:Object(N.jsx)(d.a,{id:"container",children:Object(N.jsxs)(R.a,{children:[Object(N.jsx)("h4",{children:"Create a new task!"}),Object(N.jsx)(R.a.Group,{controlId:"title",id:"in",children:Object(N.jsx)(se.a,{style:{width:"100%"},id:"outlined-password-input",label:"Title",autoComplete:"current-password",placeholder:"Enter a title",onChange:function(e){return u(e.target.value)},value:s,required:!0})}),Object(N.jsx)(R.a.Group,{controlId:"description",id:"in",children:Object(N.jsx)(se.a,{style:{width:"100%"},id:"outlined-password-input",placeholder:"Enter a description (optional)",onChange:function(e){return h(e.target.value)},label:"Description",value:b,multiline:!0})}),Object(N.jsx)(R.a.Group,{controlId:"description",id:"in",children:Object(N.jsxs)(ue.a,{fullWidth:!0,children:[Object(N.jsx)(le.a,{children:"Priority"}),Object(N.jsxs)(de.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:S,label:"Priority",onChange:function(e){return I(e.target.value)},children:[Object(N.jsx)(je.a,{value:-1,children:"None"}),Object(N.jsx)(je.a,{value:0,children:"Low"}),Object(N.jsx)(je.a,{value:1,children:"Normal"}),Object(N.jsx)(je.a,{value:2,children:"High"}),Object(N.jsx)(je.a,{value:3,children:"Urgent"})]})]})}),Object(N.jsx)(R.a.Group,{controlId:"date",id:"in",style:{width:"100%"},children:Object(N.jsx)(he.a,{dateAdapter:be.a,children:Object(N.jsx)(Oe.a,{id:"indate",renderInput:function(e){return Object(N.jsx)(se.a,Object(v.a)(Object(v.a)({},e),{},{style:{width:"100%"}}))},label:"Due",value:k,onChange:function(e){w(e)}})})}),Object(N.jsxs)("div",{id:"buttonHolder",children:[Object(N.jsx)(p.a,{id:"button",variant:"danger",onClick:W,children:"Create"}),D&&Object(N.jsx)(z.a,{color:"inherit"})]})]})})})},xe=function(e){var t=e.task,n=e.tasks,r=e.setTasks,c=e.setEdit,i=Object(a.useContext)(q),o=Object(a.useContext)(V),s=Object(a.useState)(t.title),u=Object(g.a)(s,2),l=u[0],j=u[1],b=Object(a.useState)(t.description),h=Object(g.a)(b,2),O=h[0],x=h[1],k=Object(a.useState)(t.due),w=Object(g.a)(k,2),y=w[0],C=w[1],S=Object(a.useState)(t.priority),I=Object(g.a)(S,2),E=I[0],T=I[1],D=Object(a.useState)(!1),H=Object(g.a)(D,2),G=H[0],L=H[1],P=function(){var e=Object(m.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=3;break}return o.setError("Please enter a title"),e.abrupt("return");case 3:return L(!0),e.prev=4,e.next=7,W(i.token,t.id,l,O||null,y?new Date(y):null,E||null);case 7:r(n.map((function(e){return e.id===t.id?Object(v.a)(Object(v.a)({},t),{},{title:l,description:O,due:y,priority:-1==E?null:E}):e}))),c(!1),o.setInfo("Task updated"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0),o.setError("Failed to update task");case 16:L(!1);case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();return Object(N.jsx)(B.a,{id:"create",style:{borderRadius:"1rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"min(400px, 80%)",p:4,padding:"1.5rem 0"},children:Object(N.jsx)(d.a,{id:"container",children:Object(N.jsxs)(R.a,{children:[Object(N.jsx)("h4",{children:"Edit Your Task"}),Object(N.jsx)(R.a.Group,{controlId:"title",id:"in",children:Object(N.jsx)(se.a,{style:{width:"100%"},id:"outlined-password-input",label:"Title",autoComplete:"current-password",placeholder:"Enter a title",onChange:function(e){return j(e.target.value)},value:l,required:!0})}),Object(N.jsx)(R.a.Group,{controlId:"description",id:"in",children:Object(N.jsx)(se.a,{style:{width:"100%"},id:"outlined-password-input",placeholder:"Enter a description (optional)",onChange:function(e){return x(e.target.value)},label:"Description",value:O,multiline:!0})}),Object(N.jsx)(R.a.Group,{controlId:"description",id:"in",children:Object(N.jsxs)(ue.a,{fullWidth:!0,children:[Object(N.jsx)(le.a,{children:"Priority"}),Object(N.jsxs)(de.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:E,label:"Priority",onChange:function(e){return T(e.target.value)},children:[Object(N.jsx)(je.a,{value:-1,children:"None"}),Object(N.jsx)(je.a,{value:0,children:"Low"}),Object(N.jsx)(je.a,{value:1,children:"Normal"}),Object(N.jsx)(je.a,{value:2,children:"High"}),Object(N.jsx)(je.a,{value:3,children:"Urgent"})]})]})}),Object(N.jsx)(R.a.Group,{controlId:"date",id:"in",style:{width:"100%"},children:Object(N.jsx)(he.a,{dateAdapter:be.a,children:Object(N.jsx)(Oe.a,{id:"indate",renderInput:function(e){return Object(N.jsx)(se.a,Object(v.a)(Object(v.a)({},e),{},{style:{width:"100%"}}))},label:"Due",value:y,onChange:function(e){C(e)}})})}),Object(N.jsxs)("div",{id:"buttonHolder",children:[Object(N.jsx)(p.a,{id:"button",variant:"danger",onClick:P,children:"Update"}),G&&Object(N.jsx)(z.a,{color:"inherit"})]})]})})})},fe=function(){var e=Object(a.useContext)(q),t=Object(a.useContext)(V),n=Object(a.useState)([]),r=Object(g.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(!1),s=Object(g.a)(o,2),u=s[0],l=s[1],d=Object(a.useState)(null),h=Object(g.a)(d,2),O=h[0],x=h[1],v=Object(a.useState)(null),k=Object(g.a)(v,2),w=k[0],y=k[1],C=Object(a.useState)(0),S=Object(g.a)(C,2),I=S[0],E=S[1],T=Object(a.useState)(null),H=Object(g.a)(T,2),W=H[0],L=H[1],P=Object(a.useState)(0),A=Object(g.a)(P,2),B=A[0],R=A[1],z=Object(a.useState)(null),U=Object(g.a)(z,2),J=U[0],Y=U[1],M=Object(a.useState)(1),Z=Object(g.a)(M,2),K=Z[0],X=Z[1],re=Object(a.useState)(!1),ce=Object(g.a)(re,2),se=ce[0],ue=ce[1];Object(a.useEffect)((function(){l(!0),D(e.token).then((function(e){i(e.data),l(!1)})).catch((function(e){console.log(e),t.setError("Something went wrong while fetching your tasks"),l(!1)}))}),[]),w&&!J&&setTimeout((function(){100!==I?E(I+1):de(w)}),15e3),W&&setTimeout((function(){100!==B?R(B+1):je(W)}),K%4?3e3:9e3);var le=function(e){w?w===e?de(w):(Y(w),y(e)):(E(0),y(e))},de=function(){E(100),ue(!0),y(null),W&&je(W),R(0),L(w)},je=function(e){ue(!0),X(K%4?K+1:1),R(100),L(null),Y(e)},be=function(){var n=Object(m.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l(!0),n.prev=1,n.next=4,G(e.token,r);case 4:i(c.filter((function(e){return e.id!==r}))),t.setInfo("Task removed"),l(!1),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),t.setError("Something went wrong while deleting the task"),l(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}(),he=function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.find((function(e){return e.id===t})),x(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(j.a,{id:"main",children:[u?Object(N.jsx)(Q.a,{id:"lp",color:"inherit"}):Object(N.jsx)("span",{id:"lp"}),Object(N.jsx)(b.a,{}),Object(N.jsxs)(b.a,{xs:"auto",children:[c.map((function(e,t){return Object(N.jsx)(ae,{startHandler:le,deleteHandler:be,editHandler:he,id:e.id,title:e.title,description:e.description,progress:w&&e.id===w?I:100,due:e.due,priority:e.priority},t)})),Object(N.jsx)(pe,{tasks:c,setTasks:i}),Object(N.jsx)("div",{id:"alertDiv",children:t.error&&Object(N.jsx)(F.a,{id:"alert",open:!!t.error,severity:"error",sx:{borderRadius:"1rem",marginTop:"5px",maxWidth:"100%"},children:t.error})})]}),Object(N.jsx)(b.a,{}),Object(N.jsx)(_.a,{open:!!W,onClose:function(){return function(){return je(W)}},children:Object(N.jsxs)(ee.a,{sx:{borderRadius:"1rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"min(400px, 80%)",bgcolor:"background.paper",border:"none",boxShadow:24,p:4},children:[Object(N.jsx)(te.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Time to take a break!"}),Object(N.jsx)(te.a,{id:"modal-modal-description",sx:{mt:2},children:"You have been working hard; take some to chill and recharge. We will notify you when it's time to get back to work."}),Object(N.jsx)("br",{}),Object(N.jsx)("div",{id:"breakBar",children:Object(N.jsx)(Q.a,{variant:"determinate",color:"inherit",value:B})}),Object(N.jsx)("br",{}),Object(N.jsx)("div",{children:Object(N.jsx)(p.a,{variant:"danger",id:"genButton",onClick:function(){return je(W)},children:"Skip Break"})})]})}),Object(N.jsx)(_.a,{open:!!J,onClose:function(){return function(){return Y(null)}},children:Object(N.jsxs)(ee.a,{sx:{borderRadius:"1rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"min(400px, 80%)",bgcolor:"background.paper",border:"none",boxShadow:24,p:4},children:[Object(N.jsx)(te.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Did you complete the task?"}),Object(N.jsx)(te.a,{id:"modal-modal-description",sx:{mt:2},children:"Did you complete the task you have been working on".concat(function(e){var t,n=Object($.a)(c);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.id===e)return" (".concat(r.title,")")}}catch(a){n.e(a)}finally{n.f()}}(J),"?")}),Object(N.jsx)("br",{}),Object(N.jsx)(p.a,{style:{marginBottom:".5rem"},variant:"danger",id:"genButton",onClick:function(){be(J).then((function(){Y(null)}))},children:"Yes! Go ahead and remove it."}),Object(N.jsx)(p.a,{variant:"danger",id:"genButton",onClick:function(){Y(null)},children:"No! Keep it there."})]})}),Object(N.jsx)(_.a,{open:!!O,onClose:function(){return function(){return x(!1)}},children:Object(N.jsx)("div",{id:"edit",children:Object(N.jsx)(xe,{task:O,tasks:c,setTasks:i,setEdit:x})})}),Object(N.jsx)(ne.a,{open:!!t.info,autoHideDuration:5e3,message:t.info}),Object(N.jsx)(ie.a,{preload:!0,playing:se,onEnd:function(){return ue(!1)},src:oe})]})},ve=function(e){var t=e.children,n=Object(a.useContext)(q),r=Object(a.useContext)(V);return Object(a.useEffect)((function(){n.token||r.setError("You must be logged in to view this page.")}),[]),n.token?t:Object(N.jsx)(u.a,{to:"/login"})},me=function(){var e=Object(a.useContext)(q);return Object(a.useEffect)((function(){e.check()}),[e.token]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(A,{}),Object(N.jsx)(s.a,{children:Object(N.jsxs)(u.d,{children:[Object(N.jsx)(u.b,{path:"/login",element:Object(N.jsx)(Z,{})}),Object(N.jsx)(u.b,{path:"/register",element:Object(N.jsx)(K,{})}),Object(N.jsx)(u.b,{path:"/verify",element:Object(N.jsx)(ve,{children:Object(N.jsx)(X,{})})}),Object(N.jsx)(u.b,{path:"/tasks",element:Object(N.jsx)(ve,{children:Object(N.jsx)(fe,{})})})]})})]})};n(264),n(265);o.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(P,{children:Object(N.jsx)(M,{children:Object(N.jsx)(me,{})})})}),document.getElementById("root"))}},[[266,1,2]]]);
//# sourceMappingURL=main.a404616f.chunk.js.map